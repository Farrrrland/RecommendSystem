{"remainingRequest":"/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/babel-loader/lib/index.js!/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhangyuwei/Documents/vue/RecommendSystem/src/api/changePwd.js","dependencies":[{"path":"/Users/zhangyuwei/Documents/vue/RecommendSystem/src/api/changePwd.js","mtime":1623577760385},{"path":"/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHJvdXRlcl9mdW5jIGZyb20gJy4uL2NvbW1vbi9yb3V0ZXInOwpleHBvcnQgdmFyIGNoYW5nZVB3ZCA9IGZ1bmN0aW9uIGNoYW5nZVB3ZChvYmopIHsKICAvLyB1cmzlvoXlrpoKICBjb25zb2xlLmxvZygiY2hhbmdlIHB3ZCBmdW5jdGlvbiBoZXJlIik7CiAgYXhpb3MucG9zdCgiaHR0cDovLzExMS4yMjkuODEuOTI6ODAwMC9pbmRleC91c2VyL3Bhc3N3b3JkQ2hhbmdlQXBpIiwgSlNPTi5zdHJpbmdpZnkoewogICAgdWlkOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndWlkJyksCiAgICBvbGRwYXNzd29yZDogb2JqLm9sZF9wYXNzd29yZCwKICAgIHBhc3N3b3JkOiBvYmoubmV3X3Bhc3N3b3JkCiAgfSksIHsKICAgIGhlYWRlcnM6IHsKICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgIkFjY2VwdCI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgfQogIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICBpZiAocmVzcG9uc2UuZGF0YVswXSA9PSAyMDApIHsKICAgICAgb2JqLiRtZXNzYWdlLnN1Y2Nlc3MoIuS/ruaUueWvhueggeaIkOWKn++8jOivt+mHjeaWsOeZu+mZhu+8gSIpOwogICAgICBjb25zb2xlLmxvZygicHdkIGNoYW5nZWQhIik7IC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKQoKICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLmNsZWFyKCk7CiAgICAgIGNvbnNvbGUubG9nKCJjbGVhciEiKTsKICAgICAgY29uc29sZS5sb2cod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2xvZ2luJykpOwogICAgICBjb25zb2xlLmxvZyh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndWlkJykpOwogICAgICByb3V0ZXJfZnVuYy50b0xvZ2luKG9iaik7CiAgICB9IGVsc2UgewogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgIG9iai4kbWVzc2FnZS5lcnJvcigi5Y6f5a+G56CB6ZSZ6K+vIik7CiAgICAgIG9iai5vbGRfcGFzc3dvcmQgPSAiIjsKICAgICAgb2JqLm5ld19wYXNzd29yZCA9ICIiOwogICAgICBvYmoudmVyX25ld19wYXNzd29yZCA9ICIiOwogICAgfQogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgY29uc29sZS5sb2coZXJyb3IpOwogIH0pOwp9OwpleHBvcnQgZGVmYXVsdCB7CiAgY2hhbmdlUHdkOiBjaGFuZ2VQd2QKfTs="},{"version":3,"sources":["/Users/zhangyuwei/Documents/vue/RecommendSystem/src/api/changePwd.js"],"names":["axios","router_func","changePwd","obj","console","log","post","JSON","stringify","uid","window","sessionStorage","getItem","oldpassword","old_password","password","new_password","headers","then","response","data","$message","success","clear","toLogin","error","ver_new_password","catch"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AAEA,OAAO,IAAIC,SAAS,GAAG,SAAZA,SAAY,CAASC,GAAT,EAAc;AACjC;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACAL,EAAAA,KAAK,CAACM,IAAN,CAAW,wDAAX,EACIC,IAAI,CAACC,SAAL,CAAe;AACXC,IAAAA,GAAG,EAAEC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,KAA9B,CADM;AAEXC,IAAAA,WAAW,EAAEV,GAAG,CAACW,YAFN;AAGXC,IAAAA,QAAQ,EAAEZ,GAAG,CAACa;AAHH,GAAf,CADJ,EAMI;AACIC,IAAAA,OAAO,EAAE;AACL,sBAAgB,kBADX;AAEL,gBAAU;AAFL;AADb,GANJ,EAaCC,IAbD,CAaO,UAACC,QAAD,EAAc;AACjB,QAAIA,QAAQ,CAACC,IAAT,CAAc,CAAd,KAAkB,GAAtB,EAA2B;AACvBjB,MAAAA,GAAG,CAACkB,QAAJ,CAAaC,OAAb,CAAqB,eAArB;AACAlB,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAFuB,CAGvB;;AACAK,MAAAA,MAAM,CAACC,cAAP,CAAsBY,KAAtB;AACAnB,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYK,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,CAAZ;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAYK,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,KAA9B,CAAZ;AACAX,MAAAA,WAAW,CAACuB,OAAZ,CAAoBrB,GAApB;AACH,KATD,MASO;AACHC,MAAAA,OAAO,CAACC,GAAR,CAAYc,QAAZ;AACAhB,MAAAA,GAAG,CAACkB,QAAJ,CAAaI,KAAb,CAAmB,OAAnB;AACAtB,MAAAA,GAAG,CAACW,YAAJ,GAAmB,EAAnB;AACAX,MAAAA,GAAG,CAACa,YAAJ,GAAmB,EAAnB;AACAb,MAAAA,GAAG,CAACuB,gBAAJ,GAAuB,EAAvB;AACH;AACJ,GA9BD,EA+BCC,KA/BD,CAgCI,UAACF,KAAD,EAAW;AACPrB,IAAAA,OAAO,CAACC,GAAR,CAAYoB,KAAZ;AACP,GAlCD;AAmCH,CAtCM;AAwCP,eAAe;AACXvB,EAAAA,SAAS,EAATA;AADW,CAAf","sourcesContent":["import axios from 'axios'\nimport router_func from '../common/router'\n\nexport var changePwd = function(obj) {\n    // url待定\n    console.log(\"change pwd function here\")\n    axios.post(\"http://111.229.81.92:8000/index/user/passwordChangeApi\",\n        JSON.stringify({\n            uid: window.sessionStorage.getItem('uid'),\n            oldpassword: obj.old_password,\n            password: obj.new_password\n        }),\n        {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"application/json\"\n            }\n        }\n    )\n    .then ((response) => {\n        if (response.data[0]==200) {\n            obj.$message.success(\"修改密码成功，请重新登陆！\")\n            console.log(\"pwd changed!\")\n            // console.log(response)\n            window.sessionStorage.clear()\n            console.log(\"clear!\")\n            console.log(window.sessionStorage.getItem('login'))\n            console.log(window.sessionStorage.getItem('uid'))\n            router_func.toLogin(obj)\n        } else {\n            console.log(response)\n            obj.$message.error(\"原密码错误\")\n            obj.old_password = \"\"\n            obj.new_password = \"\"\n            obj.ver_new_password = \"\"\n        }\n    })\n    .catch (\n        (error) => {\n            console.log(error);\n    })\n}\n\nexport default {\n    changePwd\n}"]}]}