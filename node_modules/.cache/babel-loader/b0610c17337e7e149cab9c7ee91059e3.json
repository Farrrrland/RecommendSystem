{"remainingRequest":"/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/babel-loader/lib/index.js!/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhangyuwei/Documents/vue/RecommendSystem/src/api/getData.js","dependencies":[{"path":"/Users/zhangyuwei/Documents/vue/RecommendSystem/src/api/getData.js","mtime":1621140138114},{"path":"/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5jb3B5LXdpdGhpbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmV2ZXJ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubGFzdC1pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS1yaWdodC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJldmVyc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc3ViYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1sb2NhbGUtc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7Cgp2YXIgZ2V0TGlzdCA9IGZ1bmN0aW9uIGdldExpc3Qob2JqKSB7CiAgdmFyIHVpZCA9ICIiOyAvLyBpZih3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbG9naW4nKSA9PSAndHJ1ZScpIHsKICAvLyAgICAgdWlkID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3VpZCcpCiAgLy8gfQoKICBheGlvcy5wb3N0KCJodHRwOi8vMTExLjIyOS44MS45Mjo4MDAwL2luZGV4L2l0ZW0vbGlzdEFwaSIsIEpTT04uc3RyaW5naWZ5KHsKICAgIHVpZDogdWlkCiAgfSksIHsKICAgIGhlYWRlcnM6IHsKICAgICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgIkFjY2VwdCI6ICJhcHBsaWNhdGlvbi9qc29uIgogICAgfQogIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICBpZiAocmVzcG9uc2UuZGF0YVswXSA9PSAyMDApIHsKICAgICAgdmFyIGNvdW50ID0gcmVzcG9uc2UuZGF0YVsxXS5yZXN1bHRfY291bnQ7CiAgICAgIG9iai5pdGVtcy5zcGxpY2UoY291bnQpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgb2JqLml0ZW1zW2ldID0ge307CiAgICAgICAgb2JqLml0ZW1zW2ldWydmbmFtZSddID0gcmVzcG9uc2UuZGF0YVsxXS5kYXRhW2ldLmZuYW1lOwogICAgICAgIG9iai5pdGVtc1tpXVsnZmlkJ10gPSByZXNwb25zZS5kYXRhWzFdLmRhdGFbaV0uZmlkOwogICAgICAgIG9iai5pdGVtc1tpXVsnZmltZyddID0gIiI7CiAgICAgICAgZ2V0SW1hZ2Uob2JqLml0ZW1zLCByZXNwb25zZS5kYXRhWzFdLmRhdGFbaV0uZmltYWdlLCBpKTsKICAgICAgICBjb25zb2xlLmxvZygiaXRlbSAiICsgaSArICIgZmluaXNoZWQhIik7CiAgICAgICAgY29uc29sZS5sb2coImZpbWcgPSAiICsgb2JqLml0ZW1zW2ldWydmaW1nJ10pOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgIGFsZXJ0KCJlcnJvciIpOwogICAgfQogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgY29uc29sZS5sb2coZXJyb3IpOwogIH0pOwp9OwoKdmFyIHNlYXJjaERhdGEgPSBmdW5jdGlvbiBzZWFyY2hEYXRhKG9iaiwga2V5LCBkZXNjLCBmaWQsIHVpZCkgewogIC8vIOafpeivouafkOadoeaVsOaNru+8jOaPkOS+m2tleeS9nOS4uuWPguaVsAogIGF4aW9zLnBvc3QoJ2h0dHA6Ly8xMTEuMjI5LjgxLjkyOjgwMDAvaW5kZXgvaXRlbS9saXN0QXBpJywgewogICAgZm5hbWU6IGtleSwKICAgIGZkZXNjOiBkZXNjLAogICAgZmlkOiBmaWQsCiAgICB1aWQ6IHVpZAogIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICBvYmogPSByZXNwb25zZTsKICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICB9KTsKfTsKCnZhciBnZXRJbWFnZSA9IGZ1bmN0aW9uIGdldEltYWdlKG9iaiwgaW1nLCBpbmRleCkgewogIHZhciBpbWdVcmwgPSAnaHR0cDovLzExMS4yMjkuODEuOTI6ODAxL2FwaS9wdWJsaWMvaW1nLycgKyBpbWc7CiAgYXhpb3MuZ2V0KGltZ1VybCwgewogICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInCiAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgIGNvbnNvbGUubG9nKCJpbWFnZV9zdWNjZXNzISIgKyBpbWdVcmwpOwogICAgcmV0dXJuICdkYXRhOmltYWdlL3BuZztiYXNlNjQsJyArIGJ0b2EobmV3IFVpbnQ4QXJyYXkocmVzcG9uc2UuZGF0YSkucmVkdWNlKGZ1bmN0aW9uIChkYXRhLCBieXRlKSB7CiAgICAgIHJldHVybiBkYXRhICsgU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKTsKICAgIH0sICcnKSk7CiAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgdmFyIHRlbXAgPSBvYmpbaW5kZXhdOwogICAgdGVtcC5maW1nID0gZGF0YTsKICAgIG9iai5zcGxpY2UoaW5kZXgsIDEsIHRlbXApOyAvLyAgIGNvbnNvbGUubG9nKGRhdGEpOwogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgY29uc29sZS5sb2coZXJyb3IpOwogIH0pOwp9OyAvLyDlr7zlh7rmjqXlj6MKCgpleHBvcnQgZGVmYXVsdCB7CiAgZ2V0TGlzdDogZ2V0TGlzdCwKICBzZWFyY2hEYXRhOiBzZWFyY2hEYXRhLAogIGdldEltYWdlOiBnZXRJbWFnZQp9Ow=="},{"version":3,"sources":["/Users/zhangyuwei/Documents/vue/RecommendSystem/src/api/getData.js"],"names":["axios","getList","obj","uid","post","JSON","stringify","headers","then","response","data","count","result_count","items","splice","i","fname","fid","getImage","fimage","console","log","alert","catch","error","searchData","key","desc","fdesc","img","index","imgUrl","get","responseType","btoa","Uint8Array","reduce","byte","String","fromCharCode","temp","fimg"],"mappings":"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","sourcesContent":["import axios from 'axios'\n\nvar getList = function(obj) {\n    var uid = \"\"\n    // if(window.sessionStorage.getItem('login') == 'true') {\n    //     uid = window.sessionStorage.getItem('uid')\n    // }\n    axios.post(\"http://111.229.81.92:8000/index/item/listApi\", \n        JSON.stringify({\n            uid: uid\n        }),\n        {\n            headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n            }\n        }\n    )\n    .then ((response) => {\n        if (response.data[0]==200) {\n            var count = response.data[1].result_count\n            obj.items.splice(count);\n            for(var i=0; i<count; i++) {\n                obj.items[i] = {};\n                obj.items[i]['fname'] = response.data[1].data[i].fname;\n                obj.items[i]['fid'] = response.data[1].data[i].fid;\n                obj.items[i]['fimg'] = \"\"\n                getImage(obj.items, response.data[1].data[i].fimage, i);\n                console.log(\"item \" + i + \" finished!\");\n                console.log(\"fimg = \" + obj.items[i]['fimg'])\n            }\n        }else {\n            console.log(response)\n            alert(\"error\")\n        }\n    })\n    .catch (\n        (error) => {\n            console.log(error);\n    })\n}\n\nvar searchData = function(obj, key, desc, fid, uid) {\n    // 查询某条数据，提供key作为参数\n    axios.post('http://111.229.81.92:8000/index/item/listApi', {\n            fname: key,\n            fdesc: desc,\n            fid: fid,\n            uid: uid\n    })\n    .then(\n        (response) => {\n            console.log(response);\n            obj = response;\n    })\n    .catch(\n        (error) => {\n            console.log(error);\n    })\n}\n\nvar getImage = function(obj, img, index) {\n    var imgUrl = 'http://111.229.81.92:801/api/public/img/' + img\n    axios.get(imgUrl, {\n      responseType: 'arraybuffer',\n    })\n    .then(\n      (response) => {\n          console.log(\"image_success!\" + imgUrl)\n          return 'data:image/png;base64,' + btoa(new Uint8Array(response.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n    })\n    .then(data => {\n      var temp = obj[index];\n      temp.fimg = data;  \n      obj.splice(index, 1, temp)\n    //   console.log(data);\n    })\n    .catch(\n      (error) => {\n          console.log(error);\n    })\n  }\n\n// 导出接口\nexport default {\n    getList,\n    searchData,\n    getImage\n}"]}]}