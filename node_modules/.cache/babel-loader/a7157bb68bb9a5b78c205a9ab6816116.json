{"remainingRequest":"/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/babel-loader/lib/index.js!/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhangyuwei/Documents/vue/RecommendSystem/src/api/getData.js","dependencies":[{"path":"/Users/zhangyuwei/Documents/vue/RecommendSystem/src/api/getData.js","mtime":1623035556294},{"path":"/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnVpbnQ4LWFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuY29weS13aXRoaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5ldmVyeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lmxhc3QtaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UtcmlnaHQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZXZlcnNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb21lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnN1YmFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tbG9jYWxlLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoKdmFyIGdldExpc3QgPSBmdW5jdGlvbiBnZXRMaXN0KG9iaikgewogIHZhciB1aWQgPSAwOwoKICBpZiAod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2xvZ2luJykgPT0gJ3RydWUnKSB7CiAgICB1aWQgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndWlkJyk7CiAgfQoKICBheGlvcy5wb3N0KCJodHRwOi8vMTExLjIyOS44MS45Mjo4MDAwL2luZGV4L2l0ZW0vcmVjb21tZW5kQXBpIiwgSlNPTi5zdHJpbmdpZnkoewogICAgdWlkOiB1aWQKICB9KSwgewogICAgaGVhZGVyczogewogICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAiQWNjZXB0IjogImFwcGxpY2F0aW9uL2pzb24iCiAgICB9CiAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgIGlmIChyZXNwb25zZS5kYXRhWzBdID09IDIwMCkgewogICAgICB2YXIgY291bnQgPSByZXNwb25zZS5kYXRhWzFdLnJlc3VsdF9jb3VudDsKICAgICAgb2JqLml0ZW1zLnNwbGljZShjb3VudCk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICBvYmouaXRlbXNbaV0gPSB7fTsKICAgICAgICBvYmouaXRlbXNbaV1bJ2ZuYW1lJ10gPSByZXNwb25zZS5kYXRhWzFdLmRhdGFbaV0uZm5hbWU7CiAgICAgICAgb2JqLml0ZW1zW2ldWydmaWQnXSA9IHJlc3BvbnNlLmRhdGFbMV0uZGF0YVtpXS5maWQ7CiAgICAgICAgb2JqLml0ZW1zW2ldWydmaW1nJ10gPSAiIjsKICAgICAgICBnZXRJbWFnZWJ5SW5kZXgob2JqLml0ZW1zLCByZXNwb25zZS5kYXRhWzFdLmRhdGFbaV0uZmltYWdlLCBpKTsKICAgICAgICBjb25zb2xlLmxvZygiaXRlbSAiICsgaSArICIgaGFzIGZpZCAiICsgb2JqLml0ZW1zW2ldWydmaWQnXSk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgYWxlcnQoImVycm9yIik7CiAgICB9CiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgfSk7Cn07Cgp2YXIgZ2V0Q29sbGVjdGlvbiA9IGZ1bmN0aW9uIGdldENvbGxlY3Rpb24ob2JqKSB7CiAgdmFyIHVpZCA9IDA7CgogIGlmICh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnbG9naW4nKSA9PSAndHJ1ZScpIHsKICAgIHVpZCA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1aWQnKTsKICB9CgogIGF4aW9zLnBvc3QoImh0dHA6Ly8xMTEuMjI5LjgxLjkyOjgwMDAvaW5kZXgvZmF2b3VyaXRlL2xpc3RBcGkiLCBKU09OLnN0cmluZ2lmeSh7CiAgICB1aWQ6IHVpZAogIH0pLCB7CiAgICBoZWFkZXJzOiB7CiAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICJBY2NlcHQiOiAiYXBwbGljYXRpb24vanNvbiIKICAgIH0KICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgaWYgKHJlc3BvbnNlLmRhdGFbMF0gPT0gMjAwKSB7CiAgICAgIGNvbnNvbGUubG9nKCJyZXNwb25zZSBpcyBhcyBmb2xsb3dzIik7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgdmFyIGNvdW50ID0gcmVzcG9uc2UuZGF0YVsxXS5yZXN1bHRfY291bnQ7CiAgICAgIG9iai5pdGVtcy5zcGxpY2UoY291bnQpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgb2JqLml0ZW1zW2ldID0ge307CiAgICAgICAgb2JqLml0ZW1zW2ldWydmbmFtZSddID0gcmVzcG9uc2UuZGF0YVsxXS5kYXRhW2ldLmZuYW1lOwogICAgICAgIG9iai5pdGVtc1tpXVsnZmlkJ10gPSByZXNwb25zZS5kYXRhWzFdLmRhdGFbaV0uZmlkOwogICAgICAgIG9iai5pdGVtc1tpXVsnZmltZyddID0gIiI7CiAgICAgICAgZ2V0SW1hZ2VieUluZGV4KG9iai5pdGVtcywgcmVzcG9uc2UuZGF0YVsxXS5kYXRhW2ldLmZpbWFnZSwgaSk7CiAgICAgICAgY29uc29sZS5sb2coIml0ZW0gIiArIGkgKyAiIGhhcyBmaWQgIiArIG9iai5pdGVtc1tpXVsnZmlkJ10pOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgIGFsZXJ0KCJlcnJvciIpOwogICAgfQogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgY29uc29sZS5sb2coZXJyb3IpOwogIH0pOwp9OwoKdmFyIGdldFJlY29tbWVuZCA9IGZ1bmN0aW9uIGdldFJlY29tbWVuZChvYmopIHsKICB2YXIgdWlkID0gMDsKCiAgaWYgKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdsb2dpbicpID09ICd0cnVlJykgewogICAgdWlkID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3VpZCcpOwogIH0KCiAgYXhpb3MucG9zdCgiaHR0cDovLzExMS4yMjkuODEuOTI6ODAwMC9pbmRleC9pdGVtL2xpc3RBcGkiLCBKU09OLnN0cmluZ2lmeSh7CiAgICB1aWQ6IHVpZAogIH0pLCB7CiAgICBoZWFkZXJzOiB7CiAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICJBY2NlcHQiOiAiYXBwbGljYXRpb24vanNvbiIKICAgIH0KICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgaWYgKHJlc3BvbnNlLmRhdGFbMF0gPT0gMjAwKSB7CiAgICAgIHZhciBjb3VudCA9IHJlc3BvbnNlLmRhdGFbMV0ucmVzdWx0X2NvdW50OwogICAgICBvYmouaXRlbXMuc3BsaWNlKGNvdW50KTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewogICAgICAgIG9iai5pdGVtc1tpXSA9IHt9OwogICAgICAgIG9iai5pdGVtc1tpXVsnZm5hbWUnXSA9IHJlc3BvbnNlLmRhdGFbMV0uZGF0YVtpXS5mbmFtZTsKICAgICAgICBvYmouaXRlbXNbaV1bJ2ZpZCddID0gcmVzcG9uc2UuZGF0YVsxXS5kYXRhW2ldLmZpZDsKICAgICAgICBvYmouaXRlbXNbaV1bJ2ZpbWcnXSA9ICIiOwogICAgICAgIGdldEltYWdlYnlJbmRleChvYmouaXRlbXMsIHJlc3BvbnNlLmRhdGFbMV0uZGF0YVtpXS5maW1hZ2UsIGkpOwogICAgICAgIGNvbnNvbGUubG9nKCJpdGVtICIgKyBpICsgIiBoYXMgZmlkICIgKyBvYmouaXRlbXNbaV1bJ2ZpZCddKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICBhbGVydCgiZXJyb3IiKTsKICAgIH0KICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICB9KTsKfTsKCnZhciBzZWFyY2hEYXRhID0gZnVuY3Rpb24gc2VhcmNoRGF0YShvYmosIGtleSkgewogIC8vIGxldCB1aWQgPSAwCiAgLy8gaWYod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2xvZ2luJykgPT0gJ3RydWUnKSB7CiAgLy8gICAgIHVpZCA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1aWQnKQogIC8vIH0KICBheGlvcy5wb3N0KCJodHRwOi8vMTExLjIyOS44MS45Mjo4MDAwL2luZGV4L2l0ZW0vbGlzdEFwaSIsIEpTT04uc3RyaW5naWZ5KHsKICAgIGZuYW1lOiBrZXkKICB9KSwgewogICAgaGVhZGVyczogewogICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAiQWNjZXB0IjogImFwcGxpY2F0aW9uL2pzb24iCiAgICB9CiAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgIGlmIChyZXNwb25zZS5kYXRhWzBdID09IDIwMCkgewogICAgICB2YXIgY291bnQgPSByZXNwb25zZS5kYXRhWzFdLnJlc3VsdF9jb3VudDsKCiAgICAgIGlmIChjb3VudCA9PSAwKSB7CiAgICAgICAgYWxlcnQoIuacquaJvuWIsOespuWQiOadoeS7tueahOmjn+eJqe+8jOivt+ajgOafpeaCqOeahOi+k+WFpSIpOwogICAgICB9IGVsc2UgewogICAgICAgIG9iai5pdGVtcy5zcGxpY2UoY291bnQpOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKICAgICAgICAgIG9iai5pdGVtc1tpXSA9IHt9OwogICAgICAgICAgb2JqLml0ZW1zW2ldWydmbmFtZSddID0gcmVzcG9uc2UuZGF0YVsxXS5kYXRhW2ldLmZuYW1lOwogICAgICAgICAgb2JqLml0ZW1zW2ldWydmaWQnXSA9IHJlc3BvbnNlLmRhdGFbMV0uZGF0YVtpXS5maWQ7CiAgICAgICAgICBvYmouaXRlbXNbaV1bJ2ZpbWcnXSA9ICIiOwogICAgICAgICAgZ2V0SW1hZ2VieUluZGV4KG9iai5pdGVtcywgcmVzcG9uc2UuZGF0YVsxXS5kYXRhW2ldLmZpbWFnZSwgaSk7CiAgICAgICAgICBjb25zb2xlLmxvZygiU2VhcmNoIGl0ZW0gIiArIGkgKyAiIGhhcyBmaWQgIiArIG9iai5pdGVtc1tpXVsnZmlkJ10pOwogICAgICAgIH0KCiAgICAgICAgYWxlcnQoIuespuWQiOadoeS7tueahOmAiemhueW3suWcqOWxj+W5leS4i+aWueWIl+WHuiIpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgIGFsZXJ0KCJlcnJvciIpOwogICAgfQogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgY29uc29sZS5sb2coZXJyb3IpOwogIH0pOwp9OwoKdmFyIGdldEluZm8gPSBmdW5jdGlvbiBnZXRJbmZvKG9iaiwgZmlkKSB7CiAgYXhpb3MucG9zdCgiaHR0cDovLzExMS4yMjkuODEuOTI6ODAwMC9pbmRleC9pdGVtL2xpc3RBcGkiLCBKU09OLnN0cmluZ2lmeSh7CiAgICBmaWQ6IGZpZAogIH0pLCB7CiAgICBoZWFkZXJzOiB7CiAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICJBY2NlcHQiOiAiYXBwbGljYXRpb24vanNvbiIKICAgIH0KICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgaWYgKHJlc3BvbnNlLmRhdGFbMF0gPT0gMjAwKSB7CiAgICAgIGNvbnNvbGUubG9nKCJnb3QgaW5mbyIpOyAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhWzFdLmRhdGFbMF0pOwogICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhWzFdLmRhdGFbMF0uZm5hbWUpOwogICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhWzFdLmRhdGFbMF0uZmRlc2MpOwoKICAgICAgb2JqWyJuYW1lIl0gPSByZXNwb25zZS5kYXRhWzFdLmRhdGFbMF0uZm5hbWU7CiAgICAgIG9ialsiZGVzYyJdID0gcmVzcG9uc2UuZGF0YVsxXS5kYXRhWzBdLmZkZXNjOwogICAgICBvYmpbImltZ191cmwiXSArPSByZXNwb25zZS5kYXRhWzFdLmRhdGFbMF0uZmltYWdlOyAvLyBjb25zb2xlLmxvZyhvYmpbIm5hbWUiXSk7CiAgICAgIC8vIGNvbnNvbGUubG9nKG9ialsiZGVzYyJdKTsKICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YVsxXS5kYXRhWzBdLmZkZXNjKTsKICAgICAgLy8gZ2V0SW1hZ2Uob2JqWyJpbWciXSwgcmVzcG9uc2UuZGF0YVsxXS5kYXRhWzBdLmZpbWFnZSk7CiAgICAgIC8vIGNvbnNvbGUubG9nKCJvYmogaXMgIiArIG9iaik7CiAgICB9IGVsc2UgewogICAgICBhbGVydCgiZXJyb3IiKTsKICAgIH0KICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICB9KTsKfTsKCnZhciBnZXRJbWFnZWJ5SW5kZXggPSBmdW5jdGlvbiBnZXRJbWFnZWJ5SW5kZXgob2JqLCBpbWcsIGluZGV4KSB7CiAgdmFyIGltZ1VybCA9ICdodHRwOi8vMTExLjIyOS44MS45Mjo4MDEvYXBpL3B1YmxpYy9pbWcvJyArIGltZzsKICBheGlvcy5nZXQoaW1nVXJsLCB7CiAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcicKICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgY29uc29sZS5sb2coImltYWdlX3N1Y2Nlc3MhIiArIGltZ1VybCk7CiAgICByZXR1cm4gJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnICsgYnRvYShuZXcgVWludDhBcnJheShyZXNwb25zZS5kYXRhKS5yZWR1Y2UoZnVuY3Rpb24gKGRhdGEsIGJ5dGUpIHsKICAgICAgcmV0dXJuIGRhdGEgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGUpOwogICAgfSwgJycpKTsKICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICB2YXIgdGVtcCA9IG9ialtpbmRleF07CiAgICB0ZW1wLmZpbWcgPSBkYXRhOwogICAgb2JqLnNwbGljZShpbmRleCwgMSwgdGVtcCk7IC8vICAgY29uc29sZS5sb2coZGF0YSk7CiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgfSk7Cn07Cgp2YXIgZ2V0SW1hZ2UgPSBmdW5jdGlvbiBnZXRJbWFnZShvYmosIGltZykgewogIHZhciBpbWdVcmwgPSAnaHR0cDovLzExMS4yMjkuODEuOTI6ODAxL2FwaS9wdWJsaWMvaW1nLycgKyBpbWc7CiAgYXhpb3MuZ2V0KGltZ1VybCwgewogICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInCiAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgIGNvbnNvbGUubG9nKCJpbWFnZV9zdWNjZXNzISIgKyBpbWdVcmwpOwogICAgcmV0dXJuICdkYXRhOmltYWdlL3BuZztiYXNlNjQsJyArIGJ0b2EobmV3IFVpbnQ4QXJyYXkocmVzcG9uc2UuZGF0YSkucmVkdWNlKGZ1bmN0aW9uIChkYXRhLCBieXRlKSB7CiAgICAgIHJldHVybiBkYXRhICsgU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKTsKICAgIH0sICcnKSk7CiAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgb2JqID0gZGF0YTsKICAgIGNvbnNvbGUubG9nKG9iaik7CiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgfSk7Cn07IC8vIOWvvOWHuuaOpeWPowoKCmV4cG9ydCBkZWZhdWx0IHsKICBnZXRMaXN0OiBnZXRMaXN0LAogIHNlYXJjaERhdGE6IHNlYXJjaERhdGEsCiAgZ2V0SW5mbzogZ2V0SW5mbywKICBnZXRJbWFnZTogZ2V0SW1hZ2UsCiAgZ2V0Q29sbGVjdGlvbjogZ2V0Q29sbGVjdGlvbiwKICBnZXRSZWNvbW1lbmQ6IGdldFJlY29tbWVuZAp9Ow=="},{"version":3,"sources":["/Users/zhangyuwei/Documents/vue/RecommendSystem/src/api/getData.js"],"names":["axios","getList","obj","uid","window","sessionStorage","getItem","post","JSON","stringify","headers","then","response","data","count","result_count","items","splice","i","fname","fid","getImagebyIndex","fimage","console","log","alert","catch","error","getCollection","getRecommend","searchData","key","getInfo","fdesc","img","index","imgUrl","get","responseType","btoa","Uint8Array","reduce","byte","String","fromCharCode","temp","fimg","getImage"],"mappings":"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","sourcesContent":["import axios from 'axios'\n\nvar getList = function(obj) {\n    let uid = 0\n    if(window.sessionStorage.getItem('login') == 'true') {\n        uid = window.sessionStorage.getItem('uid')\n    }\n    axios.post(\"http://111.229.81.92:8000/index/item/recommendApi\", \n        JSON.stringify({\n            uid: uid\n        }),\n        {\n            headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n            }\n        }\n    )\n    .then ((response) => {\n        if (response.data[0]==200) {\n            var count = response.data[1].result_count\n            obj.items.splice(count);\n            for(var i=0; i<count; i++) {\n                obj.items[i] = {};\n                obj.items[i]['fname'] = response.data[1].data[i].fname;\n                obj.items[i]['fid'] = response.data[1].data[i].fid;\n                obj.items[i]['fimg'] = \"\"\n                getImagebyIndex(obj.items, response.data[1].data[i].fimage, i);\n                console.log(\"item \" + i + \" has fid \" + obj.items[i]['fid']);\n            }\n        }else {\n            console.log(response)\n            alert(\"error\")\n        }\n    })\n    .catch (\n        (error) => {\n            console.log(error);\n    })\n}\n\nvar getCollection = function(obj) {\n    let uid = 0\n    if(window.sessionStorage.getItem('login') == 'true') {\n        uid = window.sessionStorage.getItem('uid')\n    }\n    axios.post(\"http://111.229.81.92:8000/index/favourite/listApi\", \n        JSON.stringify({\n            uid: uid\n        }),\n        {\n            headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n            }\n        }\n    )\n    .then ((response) => {\n        if (response.data[0]==200) {\n            console.log(\"response is as follows\")\n            console.log(response)\n            var count = response.data[1].result_count\n            obj.items.splice(count);\n            for(var i=0; i<count; i++) {\n                obj.items[i] = {};\n                obj.items[i]['fname'] = response.data[1].data[i].fname;\n                obj.items[i]['fid'] = response.data[1].data[i].fid;\n                obj.items[i]['fimg'] = \"\"\n                getImagebyIndex(obj.items, response.data[1].data[i].fimage, i);\n                console.log(\"item \" + i + \" has fid \" + obj.items[i]['fid']);\n            }\n        }else {\n            console.log(response)\n            alert(\"error\")\n        }\n    })\n    .catch (\n        (error) => {\n            console.log(error);\n    })\n}\n\nvar getRecommend = function(obj) {\n    let uid = 0\n    if(window.sessionStorage.getItem('login') == 'true') {\n        uid = window.sessionStorage.getItem('uid')\n    }\n    axios.post(\"http://111.229.81.92:8000/index/item/listApi\", \n        JSON.stringify({\n            uid: uid\n        }),\n        {\n            headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n            }\n        }\n    )\n    .then ((response) => {\n        if (response.data[0]==200) {\n            var count = response.data[1].result_count\n            obj.items.splice(count);\n            for(var i=0; i<count; i++) {\n                obj.items[i] = {};\n                obj.items[i]['fname'] = response.data[1].data[i].fname;\n                obj.items[i]['fid'] = response.data[1].data[i].fid;\n                obj.items[i]['fimg'] = \"\"\n                getImagebyIndex(obj.items, response.data[1].data[i].fimage, i);\n                console.log(\"item \" + i + \" has fid \" + obj.items[i]['fid']);\n            }\n        }else {\n            console.log(response)\n            alert(\"error\")\n        }\n    })\n    .catch (\n        (error) => {\n            console.log(error);\n    })\n}\n\nvar searchData = function(obj, key) {\n    // let uid = 0\n    // if(window.sessionStorage.getItem('login') == 'true') {\n    //     uid = window.sessionStorage.getItem('uid')\n    // }\n    axios.post(\"http://111.229.81.92:8000/index/item/listApi\", \n        JSON.stringify({\n            fname: key,\n        }),\n        {\n            headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n            }\n        }\n    )\n    .then ((response) => {\n        if (response.data[0]==200) {\n            var count = response.data[1].result_count\n            if(count == 0) {\n                alert(\"未找到符合条件的食物，请检查您的输入\")\n            }\n            else {\n                obj.items.splice(count);\n                for(var i=0; i<count; i++) {\n                    obj.items[i] = {};\n                    obj.items[i]['fname'] = response.data[1].data[i].fname;\n                    obj.items[i]['fid'] = response.data[1].data[i].fid;\n                    obj.items[i]['fimg'] = \"\"\n                    getImagebyIndex(obj.items, response.data[1].data[i].fimage, i);\n                    console.log(\"Search item \" + i + \" has fid \" + obj.items[i]['fid']);\n                }\n                alert(\"符合条件的选项已在屏幕下方列出\")\n            }\n        }else {\n            console.log(response)\n            alert(\"error\")\n        }\n    })\n    .catch (\n        (error) => {\n            console.log(error);\n    })\n}\n\nvar getInfo = function(obj, fid) {\n    axios.post(\"http://111.229.81.92:8000/index/item/listApi\", \n        JSON.stringify({\n            fid: fid\n        }),\n        {\n            headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n            }\n        }\n    )\n    .then(\n        (response) => {\n            if(response.data[0]==200) {\n                console.log(\"got info\");\n                // console.log(response.data[1].data[0]);\n                // console.log(response.data[1].data[0].fname);\n                // console.log(response.data[1].data[0].fdesc);\n                obj[\"name\"] = response.data[1].data[0].fname;\n                obj[\"desc\"] = response.data[1].data[0].fdesc;\n                obj[\"img_url\"] += response.data[1].data[0].fimage;\n                // console.log(obj[\"name\"]);\n                // console.log(obj[\"desc\"]);\n                // console.log(response.data[1].data[0].fdesc);\n                // getImage(obj[\"img\"], response.data[1].data[0].fimage);\n                // console.log(\"obj is \" + obj);\n            }else {\n                alert(\"error\")\n            }\n    })\n    .catch(\n        (error) => {\n            console.log(error);\n    })\n}\n\nvar getImagebyIndex = function(obj, img, index) {\n    var imgUrl = 'http://111.229.81.92:801/api/public/img/' + img\n    axios.get(imgUrl, {\n      responseType: 'arraybuffer',\n    })\n    .then(\n      (response) => {\n          console.log(\"image_success!\" + imgUrl)\n          return 'data:image/png;base64,' + btoa(new Uint8Array(response.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n    })\n    .then(data => {\n      var temp = obj[index];\n      temp.fimg = data;  \n      obj.splice(index, 1, temp)\n    //   console.log(data);\n    })\n    .catch(\n      (error) => {\n          console.log(error);\n    })\n  }\n\n  var getImage = function(obj, img) {\n    var imgUrl = 'http://111.229.81.92:801/api/public/img/' + img\n    axios.get(imgUrl, {\n      responseType: 'arraybuffer',\n    })\n    .then(\n      (response) => {\n          console.log(\"image_success!\" + imgUrl)\n          return 'data:image/png;base64,' + btoa(new Uint8Array(response.data).reduce((data, byte) => data + String.fromCharCode(byte), ''))\n    })\n    .then(data => {\n        obj = data;\n        console.log(obj);\n    })\n    .catch(\n      (error) => {\n          console.log(error);\n    })\n  }\n// 导出接口\nexport default {\n    getList,\n    searchData,\n    getInfo,\n    getImage,\n    getCollection,\n    getRecommend\n}"]}]}