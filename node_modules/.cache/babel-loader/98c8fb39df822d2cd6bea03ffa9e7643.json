{"remainingRequest":"/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/babel-loader/lib/index.js!/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhangyuwei/Documents/vue/RecommendSystem/src/api/login.js","dependencies":[{"path":"/Users/zhangyuwei/Documents/vue/RecommendSystem/src/api/login.js","mtime":1623578481379},{"path":"/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhangyuwei/Documents/vue/RecommendSystem/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHJvdXRlcl9mdW5jIGZyb20gJy4uL2NvbW1vbi9yb3V0ZXInOwoKdmFyIHNlbmRVc2VySW5mbyA9IGZ1bmN0aW9uIHNlbmRVc2VySW5mbyhvYmopIHsKICBheGlvcy5wb3N0KCJodHRwOi8vMTExLjIyOS44MS45Mjo4MDAwL2luZGV4L3VzZXIvbG9naW5BcGkiLCBKU09OLnN0cmluZ2lmeSh7CiAgICB1c2VybmFtZTogb2JqLnVzZXJfbmFtZSwKICAgIHBhc3N3b3JkOiBvYmoucGFzc3dvcmQKICB9KSwgewogICAgaGVhZGVyczogewogICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAiQWNjZXB0IjogImFwcGxpY2F0aW9uL2pzb24iCiAgICB9CiAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgIGlmIChyZXNwb25zZS5kYXRhWzBdID09IDIwMCkgewogICAgICBjb25zb2xlLmxvZygibG9naW4gc3VjY2VzcyEiKTsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidWlkIiwgcmVzcG9uc2UuZGF0YVsxXS51aWQpOwogICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgibG9naW4iLCB0cnVlKTsKICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInVzcm5hbWUiLCBvYmoudXNlcl9uYW1lKTsKICAgICAgY29uc29sZS5sb2cod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3VpZCcpKTsKICAgICAgY29uc29sZS5sb2cod2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Vzcm5hbWUnKSk7CiAgICAgIGNvbnNvbGUubG9nKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdsb2dpbicpKTsKICAgICAgcm91dGVyX2Z1bmMudG9Ib21lKG9iaik7CiAgICB9IGVsc2UgewogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgIG9iai4kbWVzc2FnZS5lcnJvcigi55So5oi35LiN5a2Y5Zyo5oiW5a+G56CB6ZSZ6K+vIik7CiAgICAgIG9iai51c2VyX25hbWUgPSAiIjsKICAgICAgb2JqLnBhc3N3b3JkID0gIiI7CiAgICB9CiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgfSk7Cn07CgpleHBvcnQgZnVuY3Rpb24gdXNlckxvZ2luKG9iaikgewogIGF4aW9zLnBvc3QoImh0dHA6Ly8xMTEuMjI5LjgxLjkyOjgwMDAvaW5kZXgvdXNlci9sb2dpbkFwaSIsIEpTT04uc3RyaW5naWZ5KHsKICAgIHVzZXJuYW1lOiBvYmoudXNlcl9uYW1lLAogICAgcGFzc3dvcmQ6IG9iai5wYXNzd29yZAogIH0pLCB7CiAgICBoZWFkZXJzOiB7CiAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICJBY2NlcHQiOiAiYXBwbGljYXRpb24vanNvbiIKICAgIH0KICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgaWYgKHJlc3BvbnNlLmRhdGFbMF0gPT0gMjAwKSB7CiAgICAgIHJldHVybiAxOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIDA7CiAgICB9CiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgfSk7Cn0KZXhwb3J0IGRlZmF1bHQgewogIHNlbmRVc2VySW5mbzogc2VuZFVzZXJJbmZvCn07"},{"version":3,"sources":["/Users/zhangyuwei/Documents/vue/RecommendSystem/src/api/login.js"],"names":["axios","router_func","sendUserInfo","obj","post","JSON","stringify","username","user_name","password","headers","then","response","data","console","log","window","sessionStorage","setItem","uid","getItem","toHome","$message","error","catch","userLogin"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,kBAAxB;;AACA,IAAIC,YAAY,GAAG,SAAfA,YAAe,CAASC,GAAT,EAAc;AAC7BH,EAAAA,KAAK,CAACI,IAAN,CAAW,+CAAX,EACIC,IAAI,CAACC,SAAL,CAAe;AACXC,IAAAA,QAAQ,EAAEJ,GAAG,CAACK,SADH;AAEXC,IAAAA,QAAQ,EAAEN,GAAG,CAACM;AAFH,GAAf,CADJ,EAKI;AACIC,IAAAA,OAAO,EAAE;AACT,sBAAgB,kBADP;AAET,gBAAU;AAFD;AADb,GALJ,EAYCC,IAZD,CAYO,UAACC,QAAD,EAAc;AACjB,QAAIA,QAAQ,CAACC,IAAT,CAAc,CAAd,KAAkB,GAAtB,EAA2B;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACAI,MAAAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,KAA9B,EAAqCN,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBM,GAAtD;AACAH,MAAAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,EAAuC,IAAvC;AACAF,MAAAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,SAA9B,EAAyCf,GAAG,CAACK,SAA7C;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAYC,MAAM,CAACC,cAAP,CAAsBG,OAAtB,CAA8B,KAA9B,CAAZ;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAYC,MAAM,CAACC,cAAP,CAAsBG,OAAtB,CAA8B,SAA9B,CAAZ;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAYC,MAAM,CAACC,cAAP,CAAsBG,OAAtB,CAA8B,OAA9B,CAAZ;AACAnB,MAAAA,WAAW,CAACoB,MAAZ,CAAmBlB,GAAnB;AACH,KAVD,MAUM;AACFW,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACAT,MAAAA,GAAG,CAACmB,QAAJ,CAAaC,KAAb,CAAmB,YAAnB;AACApB,MAAAA,GAAG,CAACK,SAAJ,GAAgB,EAAhB;AACAL,MAAAA,GAAG,CAACM,QAAJ,GAAe,EAAf;AACH;AACJ,GA7BD,EA8BCe,KA9BD,CA+BI,UAACD,KAAD,EAAW;AACPT,IAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAZ;AACP,GAjCD;AAkCH,CAnCD;;AAqCA,OAAO,SAASE,SAAT,CAAmBtB,GAAnB,EAAwB;AAC3BH,EAAAA,KAAK,CAACI,IAAN,CAAW,+CAAX,EACIC,IAAI,CAACC,SAAL,CAAe;AACXC,IAAAA,QAAQ,EAAEJ,GAAG,CAACK,SADH;AAEXC,IAAAA,QAAQ,EAAEN,GAAG,CAACM;AAFH,GAAf,CADJ,EAKI;AACIC,IAAAA,OAAO,EAAE;AACL,sBAAgB,kBADX;AAEL,gBAAU;AAFL;AADb,GALJ,EAYKC,IAZL,CAYW,UAACC,QAAD,EAAc;AACjB,QAAIA,QAAQ,CAACC,IAAT,CAAc,CAAd,KAAkB,GAAtB,EAA2B;AACvB,aAAO,CAAP;AACH,KAFD,MAEM;AACF,aAAO,CAAP;AACH;AACJ,GAlBL,EAmBKW,KAnBL,CAoBQ,UAACD,KAAD,EAAW;AACPT,IAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAZ;AACH,GAtBT;AAuBH;AAID,eAAe;AACXrB,EAAAA,YAAY,EAAZA;AADW,CAAf","sourcesContent":["import axios from 'axios'\nimport router_func from '../common/router'\nvar sendUserInfo = function(obj) {\n    axios.post(\"http://111.229.81.92:8000/index/user/loginApi\", \n        JSON.stringify({\n            username: obj.user_name,\n            password: obj.password\n        }),\n        {\n            headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n            }\n        }\n    )\n    .then ((response) => {\n        if (response.data[0]==200) {\n            console.log(\"login success!\")\n            console.log(response)\n            window.sessionStorage.setItem(\"uid\", response.data[1].uid)\n            window.sessionStorage.setItem(\"login\", true)\n            window.sessionStorage.setItem(\"usrname\", obj.user_name)\n            console.log(window.sessionStorage.getItem('uid'))\n            console.log(window.sessionStorage.getItem('usrname'))\n            console.log(window.sessionStorage.getItem('login'))\n            router_func.toHome(obj)\n        }else {\n            console.log(response)\n            obj.$message.error(\"用户不存在或密码错误\")\n            obj.user_name = \"\"\n            obj.password = \"\"\n        }\n    })\n    .catch (\n        (error) => {\n            console.log(error);\n    })\n}\n\nexport function userLogin(obj) {\n    axios.post(\"http://111.229.81.92:8000/index/user/loginApi\",\n        JSON.stringify({\n            username: obj.user_name,\n            password: obj.password\n        }),\n        {\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"application/json\"\n            }\n        }\n    )\n        .then ((response) => {\n            if (response.data[0]==200) {\n                return 1\n            }else {\n                return 0\n            }\n        })\n        .catch (\n            (error) => {\n                console.log(error);\n            })\n}\n\n\n\nexport default {\n    sendUserInfo\n}"]}]}